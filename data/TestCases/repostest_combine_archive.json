{
    "functionName": "test_combine_archive",
    "className": null,
    "fileName": "/PEtab-dev_&_PEtab/tests_&_test_combine.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "\"\"\"Test `create_combine_archive` and `Problem.from_combine`\"\"\"\ndocument, _ = minimal_sbml_model\nmeasurement_df = pd.DataFrame(data={OBSERVABLE_ID: ['obs1', 'obs2'],\n    OBSERVABLE_PARAMETERS: ['', 'p1;p2'], NOISE_PARAMETERS: ['p3;p4', 'p5']})\ncondition_df = pd.DataFrame(data={CONDITION_ID: ['condition1', 'condition2'\n    ], CONDITION_NAME: ['', 'Condition 2'], 'fixedParameter1': [1.0, 2.0]})\ncondition_df.set_index(CONDITION_ID, inplace=True)\nparameter_df = pd.DataFrame(data={PARAMETER_ID: ['dynamicParameter1',\n    'dynamicParameter2'], PARAMETER_NAME: ['', '...']})\nparameter_df.set_index(PARAMETER_ID, inplace=True)\nobservable_df = pd.DataFrame(data={OBSERVABLE_ID: ['observable_1'],\n    OBSERVABLE_FORMULA: ['observable_1'], NOISE_FORMULA: [1]})\nobservable_df.set_index(OBSERVABLE_ID, inplace=True)\nsbml_file_name = 'model.xml'\nmeasurement_file_name = 'measurements.tsv'\ncondition_file_name = 'conditions.tsv'\nparameter_file_name = 'parameters.tsv'\nobservable_file_name = 'observables.tsv'\nyaml_file_name = 'test.yaml'\nyaml_config = {FORMAT_VERSION: petab.__format_version__, PARAMETER_FILE:\n    parameter_file_name, PROBLEMS: [{SBML_FILES: [sbml_file_name],\n    MEASUREMENT_FILES: [measurement_file_name], CONDITION_FILES: [\n    condition_file_name], OBSERVABLE_FILES: [observable_file_name]}]}\nwith tempfile.TemporaryDirectory(prefix='petab_test_combine_archive'\n    ) as tempdir:\n    petab.write_sbml(document, os.path.join(tempdir, sbml_file_name))\n    petab.write_measurement_df(measurement_df, os.path.join(tempdir,\n        measurement_file_name))\n    petab.write_parameter_df(parameter_df, os.path.join(tempdir,\n        parameter_file_name))\n    petab.write_observable_df(observable_df, os.path.join(tempdir,\n        observable_file_name))\n    petab.write_condition_df(condition_df, os.path.join(tempdir,\n        condition_file_name))\n    petab.write_yaml(yaml_config, os.path.join(tempdir, yaml_file_name))\n    archive_file_name = os.path.join(tempdir, 'test.omex')\n    petab.create_combine_archive(os.path.join(tempdir, yaml_file_name),\n        archive_file_name, family_name='Tester')\n    problem = petab.Problem.from_combine(archive_file_name)\n    assert problem.parameter_df is not None\n    assert problem.condition_df is not None\n    assert problem.measurement_df is not None\n    assert problem.observable_df is not None\n"
}