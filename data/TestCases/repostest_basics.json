{
    "functionName": "test_basics",
    "className": "TestDeepDirectory",
    "fileName": "/kenfar_&_DataGristle/scripts_&_tests_&_test_gristle_dir_merger_cmd.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "\"\"\" starting dirs & files:\n            \tmp\\\\*_source_?\\\\mysubdir\n            \tmp\\\\*_source_?\\\\mysubdir\foo\n            \tmp\\\\*_source_?\\\\mysubdir\foo\foo.csv\n            \tmp\\\\*_source_?\\\\mysubdir\foo\foo2\n            \tmp\\\\*_source_?\\\\mysubdir\foo\foo2\foo2.csv\n            \tmp\\\\*_source_?\\\\mysubdir\foo\foo2\foo3\n            \tmp\\\\*_source_?\\\\mysubdir\foo\foo2\foo3\foo3.csv\n            \tmp\\\\*_dest_???\\\\mysubdir\foo\n            \tmp\\\\*_dest_???\\\\mysubdir\foo\foo.csv\n            \tmp\\\\*_dest_???\\\\mysubdir\foo\foo2\n            \tmp\\\\*_dest_???\\\\mysubdir\foo\foo2\foo3\n            \tmp\\\\*_dest_???\\\\mysubdir\foo\foo2\foo3\foo3.csv\n                  should become:\n            \tmp\\\\*_source_?\n            \tmp\\\\*_dest_???\\\\mysubdir\n            \tmp\\\\*_dest_???\\\\mysubdir\foo\n            \tmp\\\\*_dest_???\\\\mysubdir\foo\foo.csv\n            \tmp\\\\*_dest_???\\\\mysubdir\foo\foo2\n            \tmp\\\\*_dest_???\\\\mysubdir\foo\foo2\foo2.csv\n            \tmp\\\\*_dest_???\\\\mysubdir\foo\foo2\foo3\n            \tmp\\\\*_dest_???\\\\mysubdir\foo\foo2\foo3\foo3.csv\n        \"\"\"\nsource_subdir = os.path.join(self.source_dir, 'mysubdir')\nos.mkdir(source_subdir)\nfoo_subdir = os.path.join(source_subdir, 'foo')\nos.mkdir(foo_subdir)\ncreate_test_file(foo_subdir, 'foo.csv', '')\nfoo2_subdir = os.path.join(foo_subdir, 'foo2')\nos.mkdir(foo2_subdir)\ncreate_test_file(foo2_subdir, 'foo2.csv', '')\nfoo3_subdir = os.path.join(foo2_subdir, 'foo3')\nos.mkdir(foo3_subdir)\ncreate_test_file(foo3_subdir, 'foo3.csv', '')\ndest_subdir = os.path.join(self.dest_dir, 'mysubdir')\nos.mkdir(dest_subdir)\nfoo_subdir = os.path.join(dest_subdir, 'foo')\nos.mkdir(foo_subdir)\ncreate_test_file(foo_subdir, 'foo.csv', '')\nfoo2_subdir = os.path.join(foo_subdir, 'foo2')\nos.mkdir(foo2_subdir)\ncreate_test_file(foo2_subdir, 'foo2.csv', '')\nfoo3_subdir = os.path.join(foo2_subdir, 'foo3')\nos.mkdir(foo3_subdir)\ncreate_test_file(foo3_subdir, 'foo3.csv', '')\nself.cmd = get_cmd(self.source_dir, self.dest_dir, match_on='name_and_md5',\n    on_match='keep_dest', on_partial_match='keep_dest')\nself.executor(self.cmd)\nassert not os.path.exists(self.source_dir)\nassert 'mysubdir' in os.listdir(self.dest_dir)\nassert 'foo' in os.listdir(os.path.join(self.dest_dir, 'mysubdir'))\nassert 'foo.csv' in os.listdir(os.path.join(self.dest_dir, 'mysubdir', 'foo'))\nassert 'foo2' in os.listdir(os.path.join(self.dest_dir, 'mysubdir', 'foo'))\nassert 'foo2.csv' in os.listdir(os.path.join(self.dest_dir, 'mysubdir',\n    'foo', 'foo2'))\nassert 'foo3' in os.listdir(os.path.join(self.dest_dir, 'mysubdir', 'foo',\n    'foo2'))\nassert 'foo3.csv' in os.listdir(os.path.join(self.dest_dir, 'mysubdir',\n    'foo', 'foo2', 'foo3'))\n"
}