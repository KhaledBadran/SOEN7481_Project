{
    "functionName": "test_pca",
    "className": null,
    "fileName": "/apetri_&_LensTools/lenstools_&_tests_&_test_ensemble.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "pca_ensemble = Ensemble.read(os.path.join(dataExtern(), 'ensemble_pca.npy'))\npca = pca_ensemble.principalComponents()\nassert len(pca.explained_variance_) == pca_ensemble.shape[1]\nfig, ax = plt.subplots(1, 2, figsize=(16, 8))\nax[0].plot(pca.explained_variance_)\nax[1].plot(pca.explained_variance_.cumsum())\nax[0].set_xlabel('$n$')\nax[1].set_xlabel('$n$')\nax[0].set_ylabel('$\\\\lambda_n$')\nax[1].set_ylabel('$\\\\sum^n\\\\lambda_n$')\nfig.savefig('pca.png')\n"
}