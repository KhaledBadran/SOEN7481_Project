{
    "functionName": "test_subtract_xanes_pre_edge_baseline2",
    "className": null,
    "fileName": "/NSLS-II_&_PyXRF/pyxrf_&_xanes_maps_&_tests_&_test_xanes_maps_api.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "\"\"\"\n    Tests for 'subtract_xanes_pre_edge_baseline':\n        Successful tests for different combination of parameters\n    \"\"\"\nincident_energies, eline, eline_activation_energy = _get_xanes_energy_axis()\nspectrum, spectrum_no_base = _get_sim_pre_edge_spectrum(incident_energies,\n    eline_activation_energy, **p_generate)\nspectrum_no_base = np.clip(spectrum_no_base, a_min=0, a_max=None)\nspectrum_out = subtract_xanes_pre_edge_baseline(spectrum, incident_energies,\n    eline, **p_test)\nnp.testing.assert_almost_equal(spectrum_out, spectrum_no_base, err_msg=\n    'Baseline subtraction from 1D XANES spectrum failed')\npytest.mark.parametrize('p_generate, p_test', [({'pre_edge_upper_keV': -\n    0.01, 'img_dims': [1]}, {'pre_edge_upper_keV': -0.01}), ({\n    'pre_edge_upper_keV': -0.008, 'img_dims': [1]}, {'pre_edge_upper_keV': \n    -0.008}), ({'pre_edge_upper_keV': -0.01, 'img_dims': [7]}, {\n    'pre_edge_upper_keV': -0.01}), ({'pre_edge_upper_keV': -0.01,\n    'img_dims': [3, 7]}, {'pre_edge_upper_keV': -0.01}), ({\n    'pre_edge_upper_keV': -0.01, 'img_dims': [5, 3, 7]}, {\n    'pre_edge_upper_keV': -0.01}), ({'pre_edge_upper_keV': -0.013,\n    'img_dims': [5, 3, 7]}, {'pre_edge_upper_keV': -0.013})])"
}