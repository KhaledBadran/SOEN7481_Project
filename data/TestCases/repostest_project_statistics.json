{
    "functionName": "test_project_statistics",
    "className": null,
    "fileName": "/incf-nidash_&_PyNIDM/nidm_&_experiment_&_tools_&_tests_&_test_rest_statistics.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "AGE_CUTOFF = 30\nproject = getSampleProjectUUID()\nbasic_project_stats = restParser.run(BRAIN_VOL_FILES,\n    '/statistics/projects/{}'.format(project))\nassert 'title' in basic_project_stats\nproject_stats_with_subjects = restParser.run(BRAIN_VOL_FILES,\n    '/statistics/projects/{}?fields=subjects'.format(project))\nassert 'title' in project_stats_with_subjects\nassert 'subjects' in project_stats_with_subjects\nfiltered_stats_with_subjects = restParser.run(BRAIN_VOL_FILES,\n    '/statistics/projects/{}?fields=subjects&filter=instruments.AGE_AT_SCAN gt {}'\n    .format(project, AGE_CUTOFF))\nassert 'title' in filtered_stats_with_subjects\nassert 'subjects' in filtered_stats_with_subjects\nassert len(filtered_stats_with_subjects['subjects']) < len(\n    project_stats_with_subjects['subjects'])\nage_stats = restParser.run(BRAIN_VOL_FILES,\n    '/statistics/projects/{}?fields=instruments.AGE_AT_SCAN&filter=instruments.AGE_AT_SCAN gt {}'\n    .format(project, AGE_CUTOFF))\nassert 'title' in age_stats\nassert 'subjects' in age_stats\nassert len(age_stats['subjects']) < len(project_stats_with_subjects['subjects']\n    )\nassert 'AGE_AT_SCAN' in age_stats\nfor x in ['max', 'min', 'mean', 'median', 'standard_deviation']:\n    assert x in age_stats['AGE_AT_SCAN']\nassert age_stats['AGE_AT_SCAN']['min'] > AGE_CUTOFF\nassert age_stats['AGE_AT_SCAN']['median'] >= age_stats['AGE_AT_SCAN']['min']\nassert age_stats['AGE_AT_SCAN']['median'] <= age_stats['AGE_AT_SCAN']['max']\nderivative_stats = restParser.run(BRAIN_VOL_FILES,\n    '/statistics/projects/{}?fields=instruments.AGE_AT_SCAN,derivatives.Right-Hippocampus (mm^3)&filter=instruments.AGE_AT_SCAN gt {}'\n    .format(project, AGE_CUTOFF))\nassert 'title' in derivative_stats\nassert 'subjects' in derivative_stats\nassert len(derivative_stats['subjects']) < len(project_stats_with_subjects[\n    'subjects'])\nfor field in ['Right-Hippocampus (mm^3)', 'AGE_AT_SCAN']:\n    assert field in derivative_stats\n    for x in ['max', 'min', 'mean', 'median', 'standard_deviation']:\n        assert x in derivative_stats[field]\n"
}