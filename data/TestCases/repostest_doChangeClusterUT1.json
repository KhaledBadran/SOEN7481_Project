{
    "functionName": "test_doChangeClusterUT1",
    "className": null,
    "fileName": "/bakwc_&_PySyncObj/test_syncobj.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "dumpFiles = [getNextDumpFile()]\nremoveFiles(dumpFiles)\nbaseAddr = getNextAddr()\noterAddr = getNextAddr()\no1 = TestObj(baseAddr, ['localhost:1235', oterAddr], dumpFile=dumpFiles[0],\n    dynamicMembershipChange=True)\n__checkParnerNodeExists(o1, 'localhost:1238', False)\n__checkParnerNodeExists(o1, 'localhost:1239', False)\n__checkParnerNodeExists(o1, 'localhost:1235', True)\nnoop = _bchr(_COMMAND_TYPE.NO_OP)\nmember = _bchr(_COMMAND_TYPE.MEMBERSHIP)\no1._SyncObj__onMessageReceived(TCPNode('localhost:12345'), {'type':\n    'append_entries', 'term': 1, 'prevLogIdx': 1, 'prevLogTerm': 0,\n    'commit_index': 2, 'entries': [(noop, 2, 1), (noop, 3, 1), (member +\n    pickle.dumps(['add', 'localhost:1238']), 4, 1)]})\n__checkParnerNodeExists(o1, 'localhost:1238', True)\n__checkParnerNodeExists(o1, 'localhost:1239', False)\no1._SyncObj__onMessageReceived(TCPNode('localhost:1236'), {'type':\n    'append_entries', 'term': 2, 'prevLogIdx': 2, 'prevLogTerm': 1,\n    'commit_index': 3, 'entries': [(noop, 3, 2), (member + pickle.dumps([\n    'add', 'localhost:1239']), 4, 2)]})\n__checkParnerNodeExists(o1, 'localhost:1238', False)\n__checkParnerNodeExists(o1, 'localhost:1239', True)\n__checkParnerNodeExists(o1, oterAddr, True)\no1._SyncObj__onMessageReceived(TCPNode('localhost:1236'), {'type':\n    'append_entries', 'term': 2, 'prevLogIdx': 4, 'prevLogTerm': 2,\n    'commit_index': 4, 'entries': [(member + pickle.dumps(['rem',\n    'localhost:1235']), 5, 2)]})\n__checkParnerNodeExists(o1, 'localhost:1238', False)\n__checkParnerNodeExists(o1, 'localhost:1239', True)\n__checkParnerNodeExists(o1, 'localhost:1235', False)\no1._forceLogCompaction()\ndoTicks([o1], 0.5)\no1._destroy()\no2 = TestObj(oterAddr, [baseAddr, 'localhost:1236'], dumpFile='dump1.bin',\n    dynamicMembershipChange=True)\ndoTicks([o2], 0.5)\n__checkParnerNodeExists(o2, oterAddr, False)\n__checkParnerNodeExists(o2, baseAddr, True)\n__checkParnerNodeExists(o2, 'localhost:1238', False)\n__checkParnerNodeExists(o2, 'localhost:1239', True)\n__checkParnerNodeExists(o2, 'localhost:1235', False)\no2._destroy()\nremoveFiles(dumpFiles)\n"
}