{
    "functionName": "test_grid_move",
    "className": null,
    "fileName": "/SeverTopan_&_AdjSim/test_&_test_index.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "from adjsim import core, analysis, decision\ndef move(simulation, source):\n    source.y += grid_size\nclass TestAgent(core.SpatialAgent):\n\n    def __init__(self, pos):\n        super().__init__(pos=pos)\n        self.decision = decision.RandomSingleCastDecision()\n        self.actions['move'] = move\ntest_sim = core.Simulation()\ntest_sim.agents.add(TestAgent(np.array([0, 0]) * grid_size))\ntest_sim.agents.add(TestAgent(np.array([1, 0]) * grid_size))\ntest_sim.agents.add(TestAgent(np.array([1, 1]) * grid_size))\ntest_sim.agents.add(TestAgent(np.array([2, 0]) * grid_size))\ntest_sim.indices.grid.initialize(grid_size)\ntest_sim.start()\nassert len(test_sim.indices.grid.get_neighbours(np.array([0, 0]) * grid_size)\n    ) == 2\nassert len(test_sim.indices.grid.get_neighbours(np.array([0, 1]) * grid_size)\n    ) == 3\nassert len(test_sim.indices.grid.get_neighbours(np.array([0, 2]) * grid_size)\n    ) == 1\ntest_sim.step()\nassert len(test_sim.indices.grid.get_neighbours(np.array([0, 0]) * grid_size)\n    ) == 2\nassert len(test_sim.indices.grid.get_neighbours(np.array([0, 1]) * grid_size)\n    ) == 2\nassert len(test_sim.indices.grid.get_neighbours(np.array([0, 2]) * grid_size)\n    ) == 3\ntest_sim.step()\nassert len(test_sim.indices.grid.get_neighbours(np.array([0, 0]) * grid_size)\n    ) == 0\nassert len(test_sim.indices.grid.get_neighbours(np.array([0, 1]) * grid_size)\n    ) == 2\nassert len(test_sim.indices.grid.get_neighbours(np.array([0, 2]) * grid_size)\n    ) == 2\ntest_sim.end()\npytest.mark.parametrize('grid_size', [1, 5, 7, 12, 17])"
}