{
    "functionName": "test_misconfigured",
    "className": null,
    "fileName": "/PlaidWeb_&_Authl/tests_&_handlers_&_test_twitter.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "storage = {}\nhandler = twitter.Twitter('foo', 'bar', 60, storage)\nmocker.patch('authl.handlers.twitter.OAuth1')\nsession_mock = mocker.patch('authl.handlers.twitter.OAuth1Session')\nsession_mock = mocker.patch('authl.handlers.twitter.OAuth1Session')\nsession_mock().fetch_request_token.side_effect = ValueError('bad config')\nresult = handler.initiate_auth('https://twitter.com/fluffy', 'http://cb',\n    'failure')\nassert isinstance(result, disposition.Error), str(result)\nassert 'bad config' in result.message\nassert result.redir == 'failure'\n"
}