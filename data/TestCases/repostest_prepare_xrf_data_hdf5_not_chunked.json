{
    "functionName": "test_prepare_xrf_data_hdf5_not_chunked",
    "className": null,
    "fileName": "/NSLS-II_&_PyXRF/pyxrf_&_core_&_tests_&_test_map_processing.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "data_shape = 7, 12, 20\ndata_dask = da.random.random(data_shape, chunks=(2, 3, 4))\ndata_numpy = data_dask.compute()\ndata = _create_xrf_data(data_dask, 'hdf5_file_dset', tmpdir, chunked_HDF5=False\n    )\ndata, file_obj = prepare_xrf_map(data, chunk_pixels=12, n_chunks_min=4)\nassert data.chunksize[0] == 7 and data.chunksize[1\n    ] == 12, f'Dataset was not properly chunked: data.chunksize={data.chunksize}'\nnpt.assert_array_almost_equal(data.compute(), data_numpy, err_msg=\n    'Prepared dataset is different from the original')\n"
}