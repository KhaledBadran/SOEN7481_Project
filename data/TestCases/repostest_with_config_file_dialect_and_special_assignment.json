{
    "functionName": "test_with_config_file_dialect_and_special_assignment",
    "className": "TestCommandLine",
    "fileName": "/kenfar_&_DataGristle/scripts_&_tests_&_test_gristle_differ_cmd.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "\"\"\"\n        \"\"\"\nself.dialect.delimiter = '\\t'\nfile1_recs = [['chg-row', '4', '14', 'empty'], ['del-row', '6', '16',\n    'empty'], ['same-row', '8', '18', 'empty']]\nfqfn1 = generate_test_file(self.temp_dir, 'old_', '.csv', self.dialect,\n    file1_recs)\nfile2_recs = [['chg-row', '4', '1a', 'empty'], ['new-row', '13a', '45b',\n    'empty'], ['same-row', '8', '18', 'empty']]\nfqfn2 = generate_test_file(self.temp_dir, 'new_', '.csv', self.dialect,\n    file2_recs)\nfn2 = basename(fqfn2)\nconfig = Config(self.temp_dir)\nconfig.add_property({'delimiter': 'tab'})\nconfig.add_property({'has_header': False})\nconfig.add_property({'quoting': csv.QUOTE_NONE})\nconfig.add_property({'key_cols': ['0']})\nconfig.add_property({'compare_cols': ['2']})\nconfig.add_property({'variables': ['foo:bar', 'baz:gorilla']})\nconfig.add_property({'temp_dir': self.temp_dir})\nconfig.add_property({'files': [fqfn1, fqfn2]})\nconfig.add_assignment('delete', 1, 'special', 'foo', None, None)\nconfig.add_assignment('insert', 3, 'special', 'baz', None, None)\nconfig.write_config()\ncmd = ' %s                     --config-fn %s               ' % (pjoin(\n    script_dir, 'gristle_differ'), config.config_fqfn)\nexecutor(cmd)\nassert self.file_cnt(fn2, '.insert') == 1\nassert self.file_cnt(fn2, '.delete') == 1\nassert self.file_cnt(fn2, '.chgold') == 1\nassert self.file_cnt(fn2, '.chgnew') == 1\nassert self.file_cnt(fn2, '.same') == 1\nprint(get_file_contents(pjoin(self.temp_dir, fn2 + '.delete'), self.dialect))\nassert get_file_contents(pjoin(self.temp_dir, fn2 + '.delete'), self.dialect)[0\n    ][1] == 'bar'\nprint(get_file_contents(pjoin(self.temp_dir, fn2 + '.insert'), self.dialect))\nassert get_file_contents(pjoin(self.temp_dir, fn2 + '.insert'), self.dialect)[0\n    ][3] == 'gorilla'\n"
}