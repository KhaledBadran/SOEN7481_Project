{
    "functionName": "test__same_as_above__include_serial_cti__serial_cti_trails_to_the_right",
    "className": "TestParallelPoissonDensities",
    "fileName": "/Jammy2211_&_PyAutoCTI/test_&_unit_&_data_&_test_add_correct_cti_to_image.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "serial_species = arctic_params.Species(trap_density=0.2, trap_lifetime=2.0)\nserial_ccd = arctic_params.CCD(well_notch_depth=1e-06, well_fill_beta=0.4)\nimage_pre_cti = np.zeros((5, 5))\nimage_pre_cti[(2), 0:4] = +100\nim = cti_image.ImageFrame(frame_geometry=ci_frame.FrameGeometry.\n    euclid_bottom_left(), array=image_pre_cti)\nparallel_species = arctic_params.Species(trap_density=10.0, trap_lifetime=1.0)\nparallel_ccd = arctic_params.CCD(well_notch_depth=0.0001, well_fill_beta=\n    0.58, well_fill_gamma=0.0, well_fill_alpha=1.0)\nparams_both = arctic_params.ArcticParams(parallel_species=[parallel_species\n    ], parallel_ccd=parallel_ccd, serial_species=[serial_species],\n    serial_ccd=serial_ccd)\narctic_both = arctic_settings.ArcticSettings(neomode='NEO', parallel=\n    arctic_parallel.parallel, serial=arctic_serial.serial)\nimage_post_cti_const = im.add_cti_to_image(cti_params=params_both,\n    cti_settings=arctic_both, use_parallel_poisson_densities=False)\nparallel_species = arctic_params.Species(trap_density=10.0, trap_lifetime=1.0)\nparallel_species = arctic_params.Species.poisson_species(species=[\n    parallel_species], shape=im.shape, seed=1)\nparallel_species[0].trap_density = 10.0\nparallel_species[1].trap_density = 10.0\nparallel_species[2].trap_density = 10.0\nparallel_species[3].trap_density = 10.0\nparallel_species[4].trap_density = 10.0\nparallel_ccd = arctic_params.CCD(well_notch_depth=0.0001, well_fill_beta=\n    0.58, well_fill_gamma=0.0, well_fill_alpha=1.0)\nparams_both = arctic_params.ArcticParams(parallel_species=parallel_species,\n    parallel_ccd=parallel_ccd, serial_species=[serial_species], serial_ccd=\n    serial_ccd)\nimage_post_cti_poisson = im.add_cti_to_image(cti_params=params_both,\n    cti_settings=arctic_both, use_parallel_poisson_densities=True)\nassert (image_post_cti_const == image_post_cti_poisson).all()\nassert image_post_cti_poisson[2, 4] > 0\n"
}