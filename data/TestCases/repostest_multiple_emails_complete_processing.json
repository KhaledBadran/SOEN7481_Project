{
    "functionName": "test_multiple_emails_complete_processing",
    "className": "EmailCollectorEngineTestCase",
    "fileName": "/IntegralDefense_&_ACE/lib_&_saq_&_collectors_&_test_email.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "test_email_dir = os.path.join(saq.SAQ_HOME, 'test_data', 'emails')\nemail_count = 0\nfor email_file in os.listdir(test_email_dir):\n    email_count += 1\n    self.submit_email(os.path.join(test_email_dir, email_file))\nself.start_api_server()\nengine = TestEngine()\nengine.start()\ncollector = EmailCollector()\ncollector.load_groups()\ncollector.start()\nwait_for_log_count('found email', email_count, 5)\nwait_for_log_count('copied file from', email_count, 5)\nwait_for_log_count('scheduled ACE Mailbox Scanner Detection -', email_count, 5)\nwait_for_log_count('completed analysis RootAnalysis', email_count, 20)\nengine.controlled_stop()\nengine.wait()\ncollector.stop()\ncollector.wait()\n"
}