{
    "functionName": "test_get_credentials",
    "className": null,
    "fileName": "/capitalone_&_Data-Load-and-Copy-using-Python/tests_&_test_s3.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "s = locopy.S3()\nmock_cred.return_value = aws_creds\ncred_string = s._credentials_string()\nexpected = 'aws_access_key_id=access;aws_secret_access_key=secret;token=token'\nassert cred_string == expected\naws_creds.token = None\nmock_cred.return_value = aws_creds\ncred_string = s._credentials_string()\nexpected = 'aws_access_key_id=access;aws_secret_access_key=secret'\nassert cred_string == expected\nmock_cred.side_effect = Exception('Exception')\nwith pytest.raises(Exception):\n    locopy.S3()\nmock.patch('locopy.s3.Session.get_credentials')"
}