{
    "functionName": "test_wordvector_methods",
    "className": "TestWordVectors",
    "fileName": "/apmoore1_&_Bella/tests_&_test_word_vectors.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "\"\"\"\n        Tests the :py:class:`bella.word_vectors.WordVectors`\n        \"\"\"\nhello_vec = np.asarray([0.5, 0.3, 0.4], dtype=np.float32)\nanother_vec = np.asarray([0.3333, 0.2222, 0.1111])\ntest_vectors = {'hello': hello_vec, 'another': another_vec}\nword_vector = WordVectors(test_vectors)\nvec_size = word_vector.vector_size\nself.assertEqual(vec_size, 3, msg='Vector size should be 3 not {}'.format(\n    vec_size))\nhello_lookup = word_vector.lookup_vector('hello')\nself.assertEqual(True, np.array_equal(hello_lookup, hello_vec), msg=\n    '{} should equal {}'.format(hello_lookup, hello_vec))\nzero_vec = np.zeros(3)\nnothing_vec = word_vector.lookup_vector('nothing')\nself.assertEqual(True, np.array_equal(zero_vec, nothing_vec), msg=\n    '{} should be a zero vector'.format(nothing_vec))\nindex2word = word_vector.index2word\nword2index = word_vector.word2index\nindex2vector = word_vector.index2vector\nembedding_matrix = word_vector.embedding_matrix\nanother_index = word2index['another']\nself.assertEqual('another', index2word[another_index], msg=\n    'index2word and word2index do not match on word `another`')\nindex_correct = np.array_equal(index2vector[another_index], another_vec)\nself.assertEqual(True, index_correct, msg=\n    'index2vector does not return the correct vector for `another`')\nself.assertEqual(0, word2index['nothing'], msg=\n    'All unknown words should be mapped to the zero index')\nself.assertEqual('<unk>', index2word[0], msg=\n    'All zero index should be mapped to the <unk> token')\nself.assertEqual(True, np.array_equal(np.zeros(3), index2vector[0]), msg=\n    'Zero index should map to the unknown vector')\nhello_index = word2index['hello']\nis_hello_vector = np.array_equal(hello_vec, embedding_matrix[hello_index])\nself.assertEqual(True, is_hello_vector, msg=\n    'The embedding matrix lookup is wrong for the `hello` word')\nunknown_index = word2index['nothing']\nis_nothing_vector = np.array_equal(zero_vec, embedding_matrix[unknown_index])\nself.assertEqual(True, is_nothing_vector, msg=\n    'The embedding matrix lookup is wrong for the unknwon word')\n"
}