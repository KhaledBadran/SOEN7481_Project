{
    "functionName": "helper_test_roll_password",
    "className": "UITestCase",
    "fileName": "/AndreMiras_&_EtherollApp/src_&_etherollapp_&_tests_&_ui_&_test_etheroll_ui.py",
    "projectName": "repos",
    "Label": false,
    "isTest": false,
    "Body": "\"\"\"\n        Makes sure wrong passwords are handled properly.\n        Relevant error messages should prompt and it should be possible to\n        try again, refs #9.\n        \"\"\"\ncontroller = app.root\nself.assertIsNotNone(controller.current_account)\ncontroller._account_passwords = {}\nroll_screen = controller.roll_screen\nroll_button = roll_screen.ids.roll_button_id\nself.assertEqual(roll_button.text, 'Roll')\nroll_button.dispatch('on_release')\ndialogs = Dialog.dialogs\nself.assertEqual(len(dialogs), 1)\ndialog = dialogs[0]\nself.assertEqual(dialog.title, 'Enter your password')\ndialog.content.password = 'wrong password'\nunlock_button = dialog._action_buttons[0]\nunlock_button.dispatch('on_release')\nthreads = threading.enumerate()\nif len(threads) == 3:\n    self.assertEqual(len(threads), 3)\n    player_roll_dice_thread = threads[2]\n    self.assertEqual(type(player_roll_dice_thread), threading.Thread)\n    self.assertTrue('function Controller.player_roll_dice' in str(\n        player_roll_dice_thread._target))\n    player_roll_dice_thread.join()\nadvance_frames_for_screen()\nself.assertEqual(len(threading.enumerate()), 2)\nmain_thread = threading.enumerate()[0]\nself.assertEqual(type(main_thread), threading._MainThread)\ndialogs = Dialog.dialogs\nself.assertEqual(len(dialogs), 1)\ndialog = dialogs[0]\nself.assertEqual(dialog.title, 'Wrong password')\ndialog.dismiss()\nroll_button.dispatch('on_release')\ndialogs = Dialog.dialogs\nself.assertEqual(len(dialogs), 1)\ndialog = dialogs[0]\nself.assertEqual(dialog.title, 'Enter your password')\ndialog.dismiss()\n"
}