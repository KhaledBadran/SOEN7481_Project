{
    "functionName": "testExperimentParameterUpdates",
    "className": "SQAStoreTest",
    "fileName": "/facebook_&_Ax/ax_&_storage_&_sqa_store_&_tests_&_test_sqa_store.py",
    "projectName": "repos",
    "Label": false,
    "isTest": false,
    "Body": "experiment = get_experiment_with_batch_trial()\nsave_experiment(experiment)\nself.assertEqual(get_session().query(SQAParameter).count(), len(experiment.\n    search_space.parameters))\nsearch_space = get_search_space()\nparameter = get_choice_parameter()\nparameter.add_values(['foobar'])\nsearch_space.update_parameter(parameter)\nexperiment.search_space = search_space\nsave_experiment(experiment)\nself.assertEqual(get_session().query(SQAParameter).count(), len(experiment.\n    search_space.parameters))\nparameter = RangeParameter(name='x1', parameter_type=ParameterType.FLOAT,\n    lower=-5, upper=10)\nsearch_space.add_parameter(parameter)\nexperiment.search_space = search_space\nsave_experiment(experiment)\nself.assertEqual(get_session().query(SQAParameter).count(), len(experiment.\n    search_space.parameters))\ndel search_space._parameters['x1']\nexperiment.search_space = search_space\nsave_experiment(experiment)\nself.assertEqual(get_session().query(SQAParameter).count(), len(experiment.\n    search_space.parameters))\nloaded_experiment = load_experiment(experiment.name)\nself.assertEqual(experiment, loaded_experiment)\n"
}