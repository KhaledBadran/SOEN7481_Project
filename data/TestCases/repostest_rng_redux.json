{
    "functionName": "test_rng_redux",
    "className": null,
    "fileName": "/CCampJr_&_CRIkit2/crikit_&_cri_&_tests_&_test_pec.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "x = np.linspace(-100, 100, 1000)\nphi_peak = 10 * np.imag(1 / (25 - x - 1.0j * 2))\nphi_bg = np.exp(-x ** 2 / (2 * 30 ** 2))\nphi = phi_peak + phi_bg\ny = 1 * np.exp(1.0j * phi)\nrng = np.arange(200, 800)\npec = PhaseErrCorrectALS(smoothness_param=1, asym_param=0.0001, redux=10,\n    fix_end_points=True, rng=rng, verbose=True)\ny_pec = pec.calculate(y)\nphi_pec = np.unwrap(np.angle(y_pec))\nassert np.allclose(np.sum(phi_pec[:200]), 0)\nassert np.sum((phi_peak - phi_pec) ** 2) < 3.1\n"
}