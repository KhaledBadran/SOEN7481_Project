{
    "functionName": "test_search_document_id",
    "className": null,
    "fileName": "/FreeDiscovery_&_FreeDiscovery/freediscovery_&_server_&_tests_&_test_search.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "dsid, lsi_id, _, input_ds = get_features_lsi_cached(app, hashed=False)\nparent_id = lsi_id\nmax_results = 2\nquery_document_id = 3844\npars = dict(parent_id=parent_id, max_results=max_results, sort=True,\n    query_document_id=query_document_id)\ndata = app.post_check(V01 + '/search/', json=pars)\nassert sorted(data.keys()) == ['data', 'pagination']\ndata = data['data']\nfor row in data:\n    assert dict2type(row) == {'score': 'float', 'document_id': 'int'}\nscores = np.array([row['score'] for row in data])\nassert (np.diff(scores) <= 0).all()\nassert len(data) == min(max_results, len(input_ds['dataset']))\n"
}