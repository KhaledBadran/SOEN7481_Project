{
    "functionName": "test_james_stein",
    "className": null,
    "fileName": "/robertmartin8_&_PyPortfolioOpt/tests_&_test_expected_returns.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "df = get_data()\njs = expected_returns.james_stein_shrinkage(df)\ncorrect_mean = np.array([0.25870218, 0.32318595, 0.29184719, 0.23082673, \n    0.41448111, 0.19238474, 0.23175124, 0.17825652, 0.20656697, 0.13374178,\n    0.16512141, 0.25217574, 0.12991287, 0.18700597, 0.21668984, 0.3147078, \n    0.33948993, 0.24437593, 0.225335, 0.27014272])\nnp.testing.assert_array_almost_equal(js.values, correct_mean)\ny = expected_returns.returns_from_prices(df).mean(axis=0) * 252\nnu = y.mean()\nassert ((js <= nu) & (js >= y) | (js >= nu) & (js <= y)).all()\n"
}