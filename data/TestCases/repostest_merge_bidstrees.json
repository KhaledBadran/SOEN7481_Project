{
    "functionName": "test_merge_bidstrees",
    "className": null,
    "fileName": "/Macquarie-MEG-Research_&_BIDSHandler/bidshandler_&_tests_&_test_add.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "with tempfile.TemporaryDirectory() as tmp:\n    shutil.copytree(TESTPATH2, op.join(tmp, 'BIDSTEST2'))\n    src_bt = BIDSTree(TESTPATH1)\n    dst_bt = BIDSTree(op.join(tmp, 'BIDSTEST2'))\n    with pytest.warns(UserWarning):\n        dst_bt.add(src_bt)\n    assert len(dst_bt.projects) == 2\n    assert src_bt.project('test1').subject(2).session(2) not in dst_bt.project(\n        'test1').subject(2)\n    dst_bt.project('test1').subject(2).session('none').rename('1')\n    dst_bt.project('test1').subject(2).add(src_bt.project('test1').subject(\n        2).session(2))\n    assert len(dst_bt.project('test1').subject(2).sessions) == 2\n    sess = dst_bt.project('test2').subject(3).session(1)\n    assert 'code' in sess.extra_data\n    assert 'extradata' in sess.extra_data\n    assert op.exists(op.join(sess.path, 'code', 'analysis.py'))\n    assert op.exists(op.join(sess.path, 'extradata', 'extra.txt'))\n"
}