{
    "functionName": "test_delete_volume_retry",
    "className": "PyU4VProvisioningTest",
    "fileName": "/MichaelMcAleer_&_PyU4V/PyU4V_&_tests_&_unit_tests_&_test_pyu4v_provisioning.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "\"\"\"Test delete volume with retry decorator.\"\"\"\ndevice_id = self.data.device_id\nexcep = exception.VolumeBackendAPIException\nwith mock.patch.object(self.provisioning, 'delete_resource', side_effect=[\n    excep('random exception 1'), excep('random exception 2'), None]\n    ) as mock_delete:\n    self.provisioning.delete_volume(self.data.device_id)\n    call_count = mock_delete.call_count\n    self.assertEqual(3, call_count)\n    mock_delete.assert_called_with(category=constants.SLOPROVISIONING,\n        resource_level=constants.SYMMETRIX, resource_level_id=self.data.\n        array, resource_type=constants.VOLUME, resource_type_id=device_id)\n"
}