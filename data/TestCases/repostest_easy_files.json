{
    "functionName": "test_easy_files",
    "className": "TestCommandLine",
    "fileName": "/kenfar_&_DataGristle/scripts_&_tests_&_test_gristle_differ_cmd.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "\"\"\" Objective of this test to is to demonstrate correct processing\n            for a pair of simple files.\n        \"\"\"\nfile1_recs = [['chg-row', '4', '14'], ['del-row', '6', '16'], ['same-row',\n    '8', '18']]\nfqfn1 = generate_test_file(self.temp_dir, 'old_', '.csv', self.dialect,\n    file1_recs)\nfn1 = basename(fqfn1)\nfile2_recs = [['chg-row', '4', '1a'], ['new-row', '13a', '45b'], [\n    'same-row', '8', '18']]\nfqfn2 = generate_test_file(self.temp_dir, 'new_', '.csv', self.dialect,\n    file2_recs)\nfn2 = basename(fqfn2)\nassert isfile(fqfn1)\nassert isfile(fqfn2)\ncmd = ' %s %s %s -k 0 -c 2 --temp-dir %s' % (pjoin(script_dir,\n    'gristle_differ'), fqfn1, fqfn2, self.temp_dir)\nexecutor(cmd)\nassert len(glob.glob(fqfn1)) == 1\nassert len(glob.glob(fqfn2)) == 1\nall_files = glob.glob(pjoin(self.temp_dir, '*'))\nexpected_files = [fn2 + '.insert', fn2 + '.delete', fn2 + '.same', fn2 +\n    '.chgold', fn2 + '.chgnew', fn1, fn2]\nfor a_fn in all_files:\n    assert basename(a_fn) in expected_files\nassert len(os.listdir(self.temp_dir)) == 7\ninsert_list = get_file_contents(pjoin(self.temp_dir, fn2 + '.insert'), self\n    .dialect)\nassert len(insert_list) == 1\nassert insert_list[0][0] == 'new-row'\ndelete_list = get_file_contents(pjoin(self.temp_dir, fn2 + '.delete'), self\n    .dialect)\nassert len(delete_list) == 1\nassert delete_list[0][0] == 'del-row'\nchgold_list = get_file_contents(pjoin(self.temp_dir, fn2 + '.chgold'), self\n    .dialect)\nassert len(chgold_list) == 1\nassert chgold_list[0][0] == 'chg-row'\nchgnew_list = get_file_contents(pjoin(self.temp_dir, fn2 + '.chgnew'), self\n    .dialect)\nassert len(chgnew_list) == 1\nassert chgnew_list[0][0] == 'chg-row'\nsame_list = get_file_contents(pjoin(self.temp_dir, fn2 + '.same'), self.dialect\n    )\nassert len(same_list) == 1\nassert same_list[0][0] == 'same-row'\n"
}