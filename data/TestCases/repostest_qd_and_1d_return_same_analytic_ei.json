{
    "functionName": "test_qd_and_1d_return_same_analytic_ei",
    "className": "TestExpectedImprovement",
    "fileName": "/Yelp_&_MOE/moe_&_tests_&_optimal_learning_&_python_&_python_version_&_expected_improvement_test.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "\"\"\"Compare the 1D analytic EI results to the qD analytic EI results, checking several random points per test case.\"\"\"\nnum_tests_per_case = 10\nei_tolerance = 1e-09\nfor test_case in self.gp_test_environments:\n    domain, python_gp = test_case\n    points_to_sample = domain.generate_random_point_in_domain()\n    python_ei_eval = (moe.optimal_learning.python.python_version.\n        expected_improvement.ExpectedImprovement(python_gp, points_to_sample))\n    for _ in xrange(num_tests_per_case):\n        points_to_sample = domain.generate_random_point_in_domain()\n        python_ei_eval.current_point = points_to_sample\n        python_1d_ei = python_ei_eval.compute_expected_improvement(force_1d_ei\n            =True)\n        python_qd_ei = python_ei_eval.compute_expected_improvement()\n        self.assert_scalar_within_relative(python_1d_ei, python_qd_ei,\n            ei_tolerance)\n"
}