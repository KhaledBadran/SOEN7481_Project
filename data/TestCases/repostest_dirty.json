{
    "functionName": "test_dirty",
    "className": null,
    "fileName": "/132nd-etcher_&_EPAB/test_&_test_main.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "repo = mock()\nrunner = CliRunner()\nwhen(repo).ensure()\nwhen(epab.utils).Repo(...).thenReturn(repo)\nwhen(repo).is_dirty().thenReturn(True)\nresult = runner.invoke(cli, ['safety'])\nassert isinstance(result, Result)\nassert result.exception\nassert isinstance(result.exception, SystemExit)\nassert 'Repository is dirty' in result.output\nassert result.exit_code == -1\nresult = runner.invoke(cli, ['-d', 'safety'])\nassert isinstance(result, Result)\nassert not result.exception\nassert result.exit_code == 0\n"
}