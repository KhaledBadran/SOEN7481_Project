{
    "functionName": "test_perform_nmf",
    "className": "TestPerform_nmf",
    "fileName": "/KnowEnG_&_KnowEnG_Pipelines_Library/test_&_unit_&_test_perform_nmf.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "run_parameters = self.run_parameters\nk = run_parameters['number_of_clusters']\nnrows = 90\nncols = 30\nH0 = np.random.rand(k, ncols)\nC = np.argmax(H0, axis=0)\nH = np.zeros(H0.shape)\nfor row in range(0, max(C) + 1):\n    rowdex = C == row\n    H[row, rowdex] = 1\nW = np.random.rand(nrows, k)\nX = W.dot(H)\nH_b = kn.perform_nmf(X, run_parameters)\nH_clusters = np.argmax(H, axis=0)\nH_b_clusters = np.argmax(H_b, axis=0)\nsets_R_equal = sets_a_eq_b(H_clusters, H_b_clusters)\nself.assertTrue(sets_R_equal, msg='test nmf clusters differ')\n"
}