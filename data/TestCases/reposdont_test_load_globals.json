{
    "functionName": "dont_test_load_globals",
    "className": null,
    "fileName": "/PaulHancock_&_Aegean/tests_&_test_source_finder.py",
    "projectName": "repos",
    "Label": false,
    "isTest": false,
    "Body": "\"\"\"Test load_globals\"\"\"\nlog = logging.getLogger('Aegean')\nsfinder = sf.SourceFinder(log=log)\nfilename = 'tests/test_files/1904-66_SIN.fits'\naux_files = sf.get_aux_files('tests/test_files/1904-66_SIN.fits')\nsfinder.load_globals(filename)\nif sfinder.global_data.img is None:\n    raise AssertionError()\ndel sfinder\nsfinder = sf.SourceFinder(log=log)\nsfinder.load_globals(filename, bkgin=aux_files['bkg'], rms=1, mask=\n    aux_files['mask'])\nif sfinder.global_data.region is None:\n    raise AssertionError()\ndel sfinder\nsfinder = sf.SourceFinder(log=log)\nsfinder.load_globals(filename, bkgin=aux_files['bkg'], bkg=0, mask=\n    aux_files['mask'])\nif sfinder.global_data.region is None:\n    raise AssertionError()\ndel sfinder\nsfinder = sf.SourceFinder(log=log)\nsfinder.load_globals(filename, bkgin=aux_files['bkg'], rms=1, bkg=0, mask=\n    aux_files['mask'])\nif sfinder.global_data.region is None:\n    raise AssertionError()\ndel sfinder\nsfinder = sf.SourceFinder(log=log)\nsfinder.load_globals(filename, rmsin=aux_files['rms'], do_curve=False, mask\n    ='derp')\nif sfinder.global_data.region is not None:\n    raise AssertionError()\nimg = sfinder._load_aux_image(sfinder.global_data.img, filename)\nif img is None:\n    raise AssertionError()\ndel sfinder\nsfinder = sf.SourceFinder(log=log)\naux_files = sf.get_aux_files('tests/test_files/1904-66_SIN.fits')\nfrom AegeanTools.regions import Region\nsfinder.load_globals(filename, rms=1, mask=Region())\nif sfinder.global_data.region is None:\n    raise AssertionError()\n"
}