{
    "functionName": "test_perform_kmeans",
    "className": "TestPerform_kmeans",
    "fileName": "/KnowEnG_&_KnowEnG_Pipelines_Library/test_&_unit_&_test_perform_kmeans.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "\"\"\" assert that the kmeans sets of a known cluster as consensus matrix is the\n            same as the known cluster\n        \"\"\"\nn_samples = 11\nn_clusters = 3\ncluster_set = np.int_(np.ones(n_samples))\nfor r in range(0, n_samples):\n    cluster_set[r] = int(np.random.randint(n_clusters))\nn_repeats = 33\nn_test_perm = 5\nn_test_rows = n_samples\nI = np.zeros((n_test_rows, n_test_rows))\nM = np.zeros((n_test_rows, n_test_rows))\nfor r in range(0, n_repeats):\n    f_perm = np.random.permutation(n_test_rows)\n    f_perm = f_perm[0:n_test_perm]\n    cluster_p = cluster_set[f_perm]\n    I = kn.update_indicator_matrix(f_perm, I)\n    M = kn.update_linkage_matrix(cluster_p, f_perm, M)\nCC = M / np.maximum(I, 1e-15)\nlabel_set = kn.perform_kmeans(CC, n_clusters)\nself.assertTrue(sets_a_eq_b(cluster_set, label_set), msg=\n    'kemans sets differ from cluster')\n"
}