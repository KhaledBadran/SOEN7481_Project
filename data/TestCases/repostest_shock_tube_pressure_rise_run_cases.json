{
    "functionName": "test_shock_tube_pressure_rise_run_cases",
    "className": "TestSimulation",
    "fileName": "/kyleniemeyer_&_PyTeCK/pyteck_&_tests_&_test_simulation.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "\"\"\"Test that shock tube cases with pressure rise run correctly.\n        \"\"\"\nfile_path = os.path.join('testfile_st2.yaml')\nfilename = pkg_resources.resource_filename(__name__, file_path)\nproperties = ChemKED(filename, skip_validation=True)\nsimulations = create_simulations(filename, properties)\nmechanism_filename = 'gri30.xml'\nSPEC_KEY = {'H2': 'H2', 'O2': 'O2', 'N2': 'N2', 'Ar': 'AR'}\nwith TemporaryDirectory() as temp_dir:\n    sim = simulations[0]\n    sim.setup_case(mechanism_filename, SPEC_KEY, path=temp_dir)\n    sim.run_case()\n    assert os.path.exists(sim.meta['save-file'])\n    with tables.open_file(sim.meta['save-file'], 'r') as h5file:\n        table = h5file.root.simulation\n        assert set(['time', 'temperature', 'pressure', 'volume',\n            'mass_fractions']) == set(table.colnames)\n        time_end = 0.029157\n        temp = 2305.9275837885516\n        pres = 915452.1978990212\n        mass_fracs = np.array([2.55673782e-06, 5.70019832e-07, \n            3.73361152e-05, 0.00261559579, 0.000130748753, 0.00191579133, \n            1.04724319e-07, 2.70985419e-09, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, \n            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,\n            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,\n            0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.995297294, 0.0, 0.0, \n            0.0, 0.0])\n        assert np.allclose(table.col('time')[-1], time_end)\n        assert np.allclose(table.col('temperature')[-1], temp)\n        assert np.allclose(table.col('pressure')[-1], pres)\n        assert np.allclose(table.col('mass_fractions')[-1], mass_fracs,\n            rtol=1e-05, atol=1e-09)\npytest.mark.xfail(reason=\n    'cannot currently guarantee integration to specified end time')"
}