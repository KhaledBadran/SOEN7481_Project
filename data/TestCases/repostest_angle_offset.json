{
    "functionName": "test_angle_offset",
    "className": null,
    "fileName": "/RI-imaging_&_ODTbrain/tests_&_test_angle_weights.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "\"\"\"\n    Tests if things are still correct when there is a 2PI offset in the angles.\n    \"\"\"\nsino, angles = create_test_sino_2d()\nparameters = get_test_parameter_set(2)\nr1 = []\nfor p in parameters:\n    f1 = odtbrain.backpropagate_2d(sino, angles, weight_angles=False, **p)\n    r1.append(f1)\nangles[::2] += 2 * np.pi * np.arange(angles[::2].shape[0])\nr2 = []\nfor p in parameters:\n    f2 = odtbrain.backpropagate_2d(sino, angles, weight_angles=False, **p)\n    r2.append(f2)\nr3 = []\nfor p in parameters:\n    f3 = odtbrain.backpropagate_2d(sino, angles, weight_angles=True, **p)\n    r3.append(f3)\nassert np.allclose(np.array(r1).flatten().view(float), np.array(r2).flatten\n    ().view(float))\nassert np.allclose(np.array(r2).flatten().view(float), np.array(r3).flatten\n    ().view(float))\n"
}