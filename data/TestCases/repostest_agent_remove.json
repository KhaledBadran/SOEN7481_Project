{
    "functionName": "test_agent_remove",
    "className": null,
    "fileName": "/SeverTopan_&_AdjSim/test_&_test_callback.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "from adjsim import core, analysis, decision\ndef removal_callback(agent):\n    removal_callback.count += 1\nremoval_callback.count = 0\ndef decrement_agents(env, source):\n    env.agents.remove(source)\nclass TestAgent(core.Agent):\n\n    def __init__(self):\n        super().__init__()\n        self.actions['decrement'] = decrement_agents\n        self.decision = decision.RandomSingleCastDecision()\ntest_sim = core.Simulation()\ntest_sim.callbacks.agent_removed.register(removal_callback)\nfor _ in range(20):\n    test_sim.agents.add(TestAgent())\ncommon.step_simulate_interpolation(test_sim)\nassert removal_callback.count == 20\n"
}