{
    "functionName": "create_json_config",
    "className": null,
    "fileName": "/PearsonEducation_&_Alarmageddon/tests_&_publishing_&_test_emailer.py",
    "projectName": "repos",
    "Label": false,
    "isTest": false,
    "Body": "\"\"\" Creates a valid json file for config\n        template_directory - [Required] A directory location for templates.\n                                        Must be a py.path.local object.\n        environment_name - [Required] The name of the environment-specific\n                                      config section for use with email configs\n        config_key - [Required] The email notifications config section key\n        smtp_host - [Optional] SMTP server host name. Must be a string.\n                               Defaults to null value.\n        smtp_port - [Optional] SMTP server port number. Must be an integer.\n                               Defaults to null value.\n        default_template - [Optional] The name of the default template.\n                                      Defaults to \"default.template\".\n        default_subject_template - [Optional] The name of the default\n                                              subject template. Defaults\n                                              to \"default_subject.template\".\n    \"\"\"\nif not template_directory:\n    raise ValueError('template_directory is required')\nelse:\n    template_directory_path = str(template_directory)\nif not environment_name:\n    raise ValueError('environment_name is required')\nif not smtp_host:\n    smtp_host = 'null'\nelse:\n    smtp_host = '\"' + smtp_host + '\"'\nif not smtp_port:\n    smtp_port = 'null'\nelse:\n    smtp_port = str(smtp_port)\njson_config = ('{\"email_template_directory\": \"' + template_directory_path +\n    '\",\"email_host\": ' + smtp_host + ',\"email_port\": ' + smtp_port +\n    ',\"email_defaults\": {\"general\": {\"email_template\": \"' +\n    default_template + '\",\"email_subject_template\": \"' +\n    default_subject_template +\n    '\",\"email_sender\": {\"real_name\": \"Alarmageddon Monitor\",\"address\": \"noreply@alarmageddon.com\"},\"email_recipients\": [{\"real_name\": \"Test Recipient\",\"address\": \"testrecipient@alarmageddon.com\"}],\"email_custom_message\": \"\"}},\"environment\": {\"'\n     + environment_name + '\": {\"' + config_key +\n    '\": {\"test_alert\": {\"email_recipients\": [{\"real_name\": \"Test Recipient Override 1\",\"address\": \"testrecipientoverride1@alarmageddon.com\"},{\"real_name\": \"Test Recipient Override 2\",\"address\": \"testrecipientoverride2@alarmageddon.com\"}],\"email_custom_message\": \"Validation failed in environment {{env}}: {{test_name}}.\"}}}}}'\n    )\nreturn json_config\n"
}