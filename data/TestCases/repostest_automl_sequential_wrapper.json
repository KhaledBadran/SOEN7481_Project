{
    "functionName": "test_automl_sequential_wrapper",
    "className": null,
    "fileName": "/Neuraxio_&_Neuraxle/testing_&_metaopt_&_test_automl_sequential_wrapper.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "data_inputs = np.array(range(100))\nexpected_outputs = np.array(range(100, 200))\nhyperparameter_space = HyperparameterSpace({'multiplication_1__multiply_by':\n    RandInt(1, 3), 'multiplication_2__multiply_by': RandInt(1, 3),\n    'multiplication_3__multiply_by': RandInt(1, 3)})\npipeline = Pipeline([('multiplication_1', MultiplyByN()), (\n    'multiplication_2', MultiplyByN()), ('multiplication_3', MultiplyByN())\n    ], cache_folder=tmpdir).set_hyperparams_space(hyperparameter_space)\nauto_ml = RandomSearch(KFoldCrossValidationWrapper().set_step(pipeline),\n    hyperparams_repository=HyperparamsJSONRepository(tmpdir), n_iter=10)\nauto_ml: AutoMLSequentialWrapper = auto_ml.fit(data_inputs, expected_outputs)\nbest_model: Pipeline = auto_ml.get_best_model()\npredicted_outputs = best_model.transform(data_inputs)\nactual_mse = ((predicted_outputs - expected_outputs) ** 2).mean()\nassert actual_mse < 20000\n"
}