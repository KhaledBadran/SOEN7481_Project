{
    "functionName": "test_create_key_pair_with_cryptographic_usage_masks",
    "className": "TestProxyKmipClient",
    "fileName": "/OpenKMIP_&_PyKMIP/kmip_&_tests_&_unit_&_pie_&_test_client.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "\"\"\"\n        Test that an asymmetric key pair can be created with proper inputs,\n        specifically testing that the private / public usage masks are\n        correctly sent with the request.\n        \"\"\"\nalgorithm = enums.CryptographicAlgorithm.RSA\nlength = 2048\nalgorithm_attribute = self.attribute_factory.create_attribute(enums.\n    AttributeType.CRYPTOGRAPHIC_ALGORITHM, algorithm)\nlength_attribute = self.attribute_factory.create_attribute(enums.\n    AttributeType.CRYPTOGRAPHIC_LENGTH, length)\nprivate_usage_mask = self.attribute_factory.create_attribute(enums.\n    AttributeType.CRYPTOGRAPHIC_USAGE_MASK, [enums.CryptographicUsageMask.SIGN]\n    )\npublic_usage_mask = self.attribute_factory.create_attribute(enums.\n    AttributeType.CRYPTOGRAPHIC_USAGE_MASK, [enums.CryptographicUsageMask.\n    VERIFY])\npair_attributes = [algorithm_attribute, length_attribute]\ntemplate = obj.TemplateAttribute(attributes=pair_attributes, tag=enums.Tags\n    .COMMON_TEMPLATE_ATTRIBUTE)\nprivate_template = obj.TemplateAttribute(attributes=[private_usage_mask],\n    tag=enums.Tags.PRIVATE_KEY_TEMPLATE_ATTRIBUTE)\npublic_template = obj.TemplateAttribute(attributes=[public_usage_mask], tag\n    =enums.Tags.PUBLIC_KEY_TEMPLATE_ATTRIBUTE)\nstatus = enums.ResultStatus.SUCCESS\nresult = results.CreateKeyPairResult(contents.ResultStatus(status),\n    public_key_uuid='aaaaaaaa-1111-2222-3333-ffffffffffff',\n    private_key_uuid='ffffffff-3333-2222-1111-aaaaaaaaaaaa')\nwith ProxyKmipClient() as client:\n    client.proxy.create_key_pair.return_value = result\n    _, _ = client.create_key_pair(enums.CryptographicAlgorithm.RSA, 2048,\n        public_usage_mask=[enums.CryptographicUsageMask.VERIFY],\n        private_usage_mask=[enums.CryptographicUsageMask.SIGN])\n    kwargs = {'common_template_attribute': template,\n        'private_key_template_attribute': private_template,\n        'public_key_template_attribute': public_template}\n    client.proxy.create_key_pair.assert_called_with(**kwargs)\nmock.patch('kmip.pie.client.KMIPProxy', mock.MagicMock(spec_set=KMIPProxy))"
}