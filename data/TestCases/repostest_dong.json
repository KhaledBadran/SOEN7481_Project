{
    "functionName": "test_dong",
    "className": "TestParsers",
    "fileName": "/apmoore1_&_Bella/tests_&_test_parsers.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "\"\"\"\n        Tests :py:func:`bella.parsers.dong`\n        \"\"\"\ndef check_results(expected_results, test_results):\n    \"\"\"\n            Given the expected results and the results from the function beign\n            tested it will test that they are both equal. It will return nothing\n            but will test if they are correct else it fails the tests.\n\n            :param expected_results: A list of dictionaries containing expected\n            values\n            :param test_results: A list of dictionaries containing results from\n            the function that is being tested\n            :type expected_results: list\n            :type test_results: list\n            :returns: Nothing but checks if the results are to be expected\n            :rtype: None\n            \"\"\"\n    for index, expected_result in enumerate(expected_results):\n        test_result = test_results[index]\n        for key, expected_value in expected_result.items():\n            test_value = test_result[key]\n            self.assertIsInstance(expected_value, type(test_value), msg=\n                'The expected value : {} is not of the same type as the tested value : {}'\n                .format(type(expected_value), type(test_value)))\n            if key == 'spans':\n                test_value = sorted(test_value, key=lambda x: x[0])\n                expected_value = sorted(expected_value, key=lambda x: x[0])\n            self.assertEqual(expected_value, test_value, msg=\n                'Expected {} returned {}'.format(expected_value, test_value))\ntest_file_path = 'anything'\nwith self.assertRaises(FileNotFoundError, msg=\n    'there should be no file named {}'.format(test_file_path)):\n    dong(test_file_path)\ntest_file_path = './tests/test_data/dong_test_data.txt'\nexpected_results = [{'target_id': 'dong_test_data0', 'sentence_id':\n    'dong_test_data0', 'sentiment': -1, 'text':\n    'This is a fake news article that is to represent a Tweet!!!!',\n    'target': 'news article', 'spans': [(15, 27)]}, {'target_id':\n    'dong_test_data1', 'sentence_id': 'dong_test_data1', 'sentiment': 1,\n    'text': 'I had a great day however I did not get much work done',\n    'target': 'day', 'spans': [(14, 17)]}, {'target_id': 'dong_test_data2',\n    'sentence_id': 'dong_test_data2', 'sentiment': 0, 'text':\n    'I cycled in today and it was ok as it was not raining.', 'target':\n    'cycled', 'spans': [(2, 8)]}]\ncheck_results(expected_results, dong(test_file_path).data())\nbad_sent_path = read_config('dong_bad_sent_data_test', CONFIG_FP)\nwith self.assertRaises(ValueError, msg=\n    'It should not accept sentiment values that are not 1, 0, or -1'):\n    dong(bad_sent_path)\ntest_multiple_path = read_config('dong_multiple_offsets_data_test', CONFIG_FP)\nmulti_expected = [{'target_id': 'dong_test_multiple_offsets_data0',\n    'sentence_id': 'dong_test_multiple_offsets_data0', 'sentiment': -1,\n    'text':\n    'This is a fake news article that is to represent a Tweet!!!! and it was an awful News Article I think.'\n    , 'target': 'news article', 'spans': [(15, 27), (81, 93)]}, {\n    'target_id': 'dong_test_multiple_offsets_data1', 'sentence_id':\n    'dong_test_multiple_offsets_data1', 'sentiment': 1, 'text':\n    'I had a great Day however I did not get much work done in the day',\n    'target': 'day', 'spans': [(14, 17), (62, 65)]}]\ncheck_results(multi_expected, dong(test_multiple_path).data())\ntest_mwe_path = read_config('dong_mwe_offsets_data_test', CONFIG_FP)\nmwe_expected = [{'target_id': 'dong_test_mwe_offsets_data0', 'sentence_id':\n    'dong_test_mwe_offsets_data0', 'sentiment': -1, 'text':\n    'This is a fake news article that is to represent a Tweet!!!! and it was an awful NewsArticle I think.'\n    , 'target': 'news article', 'spans': [(15, 27), (81, 92)]}]\ncheck_results(mwe_expected, dong(test_mwe_path).data())\n"
}