{
    "functionName": "test_retrieval_sparse",
    "className": "TestEngine",
    "fileName": "/pixelogik_&_NearPy/tests_&_engine_tests.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "for k in range(100):\n    self.engine.clean_all_buckets()\n    x = scipy.sparse.rand(1000, 1, density=0.05)\n    x_data = 'data'\n    self.engine.store_vector(x, x_data)\n    n = self.engine.neighbours(x)\n    y, y_data, y_distance = n[0]\n    normalized_x = unitvec(x)\n    delta = 1e-09\n    self.assertAlmostEqual(numpy.abs(normalized_x - y).max(), 0, delta=delta)\n    self.assertEqual(y_data, x_data)\n    self.assertAlmostEqual(y_distance, 0.0, delta=delta)\n"
}