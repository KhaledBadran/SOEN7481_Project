{
    "functionName": "test_attachment_retrieval",
    "className": null,
    "fileName": "/AutomatedTester_&_Bugsy/tests_&_test_bugs.py",
    "projectName": "repos",
    "Label": false,
    "isTest": true,
    "Body": "responses.add(responses.GET, 'https://bugzilla.mozilla.org/rest/login',\n    body='{\"token\": \"foobar\"}', status=200, content_type='application/json',\n    match_querystring=True)\nresponses.add(responses.GET, rest_url('bug', 1017315), json=bug_return,\n    status=200, content_type='application/json', match_querystring=True)\nresponses.add(responses.GET,\n    'https://bugzilla.mozilla.org/rest/bug/1017315/attachment', json=\n    attachment_return, status=200, content_type='application/json',\n    match_querystring=True)\nbugzilla = Bugsy('foo', 'bar')\nbug = bugzilla.get(1017315)\nattachments = bug.get_attachments()\nassert len(attachments) == 1\nattachment = attachments[0].to_dict()\nfor k, v in attachment.items():\n    if k in ['creation_time', 'last_change_time']:\n        orig = attachment_return['bugs']['1017315'][0][k]\n        assert v == datetime.datetime.strptime(orig, '%Y-%m-%dT%H:%M:%SZ')\n    else:\n        orig = attachment_return['bugs']['1017315'][0][k]\n        assert v == orig\nresponses.activate"
}