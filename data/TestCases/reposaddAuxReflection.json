{
    "functionName": "addAuxReflection",
    "className": null,
    "fileName": "/jakob-lass_&_MJOLNIR/MJOLNIR_&_TasUBlibDEG.py",
    "projectName": "repos",
    "Label": false,
    "isTest": false,
    "Body": "h, k, l = r2[:3]\nEi, Ef = r1[-2:]\nki, kf = np.sqrt([Ei, Ef]) * factorsqrtEK\nB = calculateBMatrix(cell)\nstt1 = r1[4]\ntheta = calcTheta(ki, kf, stt1)\nom = r1[3] - ss * theta\nom += tasAngleBetweenReflections(B, r1[:3], [h, k, l])\nQC = np.dot(B, [h, k, l])\nq = np.linalg.norm(QC)\ncos2t = (ki * ki + kf * kf - q * q) / (2.0 * np.abs(ki) * np.abs(kf))\nr2stt = np.rad2deg(np.arccos(cos2t))\nr2A3 = om + ss * theta\nr2A3 = np.mod(r2A3 + ss * 180.0, 360.0) - ss * 180.0\nr2 = np.array([h, k, l, r2A3, r2stt, 0.0, 0.0, Ei, Ef])\nreturn r2\n"
}